#!/bin/sh

stop() {
	kill_process.sh polybar 2>/dev/null	
	while pgrep -u $(id -u) -x polybar >/dev/null; do sleep 1; done
	wait
}

start() {
	pidof -q polybar || "$HOME"/.local/bin/polybar_launch &
}

case "${1}" in
	""|restart)
		stop
		start		
	;;
	start)
		start		
	;;
	stop)	
		stop	
	;;
	*)	
		echo "Usage: polybar-session [start|stop|restart]"
	;;
esac
