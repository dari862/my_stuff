#!/bin/sh
. "$__distro_path_lib"

polybar_launcher_path="$HOME/.local/bin/polybar_launcher"

stop() {
	"${__distro_path_root}"/bin/WM/kill_process.sh polybar 2>/dev/null	
}

start() {
	pidof -q polybar || setsid "${polybar_launcher_path}" &
}

restart() {
	if pidof -q polybar;then
		"${__distro_path_root}"/bin/WM/kill_process.sh polybar 2>/dev/null	
	fi
	setsid "${polybar_launcher_path}" &
}

case "${1}" in
	""|restart)
		restart		
	;;
	start)
		start		
	;;
	stop)	
		stop	
	;;
	*)	
		echo "Usage: polybar-session [start|stop|restart]"
	;;
esac
