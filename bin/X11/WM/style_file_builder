#!/bin/sh
_style="${1:-}"

show_em(){
	echo "[ERROR] $0 : $1"
	exit 1
}

CONFIGPATH="$HOME/.config"

create_Distro_config(){
	# Distro_config
	##############
	# wallpaper_mode
	##############
	:
}

create_dunstrc(){
	# dunstrc
	##############
	:
}

create_gtk(){
	# gtkrc_theme
	##############
	:
}

create_plank(){
	# plank
	##############
	:
}

create_lightdm(){
	# lightdm-greeter
	##############
	:
}

create_jgmenu(){
	jgmenu_theme_file="${CONFIGPATH}/jgmenu/jgmenu_theme"
}

create_geany(){
	blob_geany_theme_path="${CONFIGPATH}/geany"
	echo "${_style}.conf" > "${blob_geany_theme_path}/theme.conf"
}

create_kitty(){
	blob_kitty_theme_path="${CONFIGPATH}/kitty"
	echo "background_opacity 0.8" > "${blob_kitty_theme_path}/theme.conf"
	echo "# color scheme" >> "${blob_kitty_theme_path}/theme.conf"
	echo "include ./themes/${_style}.conf" >> "${blob_kitty_theme_path}/theme.conf"
}

create_alacritty(){
	blob_alacritty_theme_path="${CONFIGPATH}/alacritty"
	( cd "$blob_alacritty_theme_path" && ln -sf "colorschemes/${_style}.yml" "colors.yml" )
}

create_rofi(){
	cp -r "${theme_color_creater_output_folder}/colors-rofi.rasi" "${CONFIGPATH}/rofi/theme.rasi"
}

create_Xresources(){
	cp -r "${theme_color_creater_output_folder}/colors.Xresources" "${CONFIGPATH}/x11/Xresources.d/themes/${_style}"
	( cd "${CONFIGPATH}/x11/Xresources.d" && ln -sf "themes/${_style}" "colors" )
}

create_bspwm(){
	cp -r "${theme_color_creater_output_folder}/colors-dunstrc.conf" "${CONFIGPATH}/bspwm/theme.conf"
}

create_openbox(){
	reconfigure-openbox || show_em "failed to run reconfigure-openbox "
}

create_Distro_config
create_lightdm
create_plank
create_gtk
create_dunstrc

if [ -d "${CONFIGPATH}/jgmenu" ];then
	create_jgmenu
fi

if [ -d "${CONFIGPATH}/geany" ];then
	create_geany
fi

if [ -d "${CONFIGPATH}/kitty" ];then
	create_kitty
fi

if [ -d "${CONFIGPATH}/alacritty" ];then
	create_alacritty
fi

if [ -d "${CONFIGPATH}/rofi" ];then
	create_rofi
fi

if [ -d "${CONFIGPATH}/x11/Xresources.d" ];then
	create_Xresources
fi

if [ -d "${CONFIGPATH}/bspwm" ];then
	create_bspwm
fi

if [ -d "${CONFIGPATH}/openbox" ];then
	create_openbox
fi
