#!/bin/sh
# need superuser : called by my-installer
box_app_name="distrobox"
box_app_location="$(find ${_APPS_LIBDIR}/ -name ${box_app_name})"
establish_must_have_files(){
	generate_applicationsdotdesktop_link "distrogui"
	[ -f "${__distro_path_root}/bin/${Display_server_are}/yad/distrobox/distrogui" ] && my-superuser ln -sf "${__distro_path_root}/bin/${Display_server_are}/yad/distrobox/distrogui" ${__distro_path_root}/system_files/bin
	generate_system_ready_file Distrobox_ready
}

if command -v $box_app_name >/dev/null 2>&1;then
	establish_must_have_files
else
	install_as_dependency "podman"
	Package_installer_ "${box_app_name}" || failed_to_run "failed to install ${box_app_name}"
	establish_must_have_files
fi
