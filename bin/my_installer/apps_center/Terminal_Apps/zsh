#!/bin/sh

app_name="zsh"
extra_apps_="zsh-autosuggestions zsh-syntax-highlighting"

say 'Installing package...' 1

Package_installer_ "${app_name} ${extra_apps_}" || continue

if prompt '  Make ZSH default shell? ' 'Y';then
	current_user="$USER"
	my-superuser chsh -s $(command -v zsh) "$current_user"
fi

my-superuser mkdir -p "$__distro_path_enabled_completion"/zsh
		
my-superuser ln -sf "$__distro_path_disabled_completion"/zsh/repobin.zsh "$__distro_path_enabled_completion"/zsh/repobin.zsh
my-superuser ln -sf "$__distro_path_disabled_completion"/zsh/_zap "$__distro_path_enabled_completion"/zsh/_zap
		
command -v backports_install >/dev/null 2>&1 && my-superuser ln -sf "$__distro_path_disabled_completion"/zsh/backports_install.zsh "$__distro_path_enabled_completion"/zsh/backports_install.zsh
command -v kali_install >/dev/null 2>&1 && my-superuser ln -sf "$__distro_path_disabled_completion"/zsh/kali_install_auto_completion.zsh "$__distro_path_enabled_completion"/zsh/kali_install_auto_completion.zsh
command -v parrot_install >/dev/null 2>&1 && my-superuser ln -sf "$__distro_path_disabled_completion"/zsh/parrot_install_auto_completion.zsh "$__distro_path_enabled_completion"/zsh/parrot_install_auto_completion.zsh
if command -v fzf >/dev/null 2>&1;then
	my-superuser ln -sf "$__distro_path_disabled_completion"/zsh/key-bindings.zsh "$__distro_path_enabled_completion"/zsh/key-bindings.zsh
	my-superuser ln -sf "$__distro_path_disabled_completion"/zsh/completion.zsh "$__distro_path_enabled_completion"/zsh/completion.zsh
fi
