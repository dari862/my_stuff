#!/bin/sh
# Metadata stripping utility
. "$__distro_path_lib"
"${__distro_path_root}/bin/not_add_2_path"/check_4_dependencies_if_installed exiftool mat2 || exit 1
if [ $# -eq 0 ]; then
    echo "Usage: strip-metadata <file1> [file2] ..."
    echo "Removes metadata from specified files"
    exit 1
fi

for file in "$@"; do
    if [ -f "$file" ]; then
        echo "Stripping metadata from: $file"
        mat2 --inplace "$file" 2>/dev/null || exiftool -all= -overwrite_original "$file"
        echo "✓ Processed: $file"
    else
        echo "✗ File not found: $file"
    fi
done
